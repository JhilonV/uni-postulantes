<!DOCTYPE html>
<html>
<head>
  <title>Lista de Postulantes</title>
  <meta charset="UTF-8">
  <style>
    body { background: linear-gradient(120deg, #e0f7fa 0%, #fffde7 100%); font-family: 'Comic Sans MS', cursive; }
    .tabla-postulantes { margin: 40px auto; background: #fff; border-radius: 18px; box-shadow: 0 4px 16px rgba(0,0,0,0.08); padding: 24px; max-width: 1200px; }
    h2 { color: #1976d2; text-align: center; }
    table { width: 100%; border-collapse: collapse; margin-top: 18px; }
    th, td { padding: 8px 6px; text-align: center; border-bottom: 1px solid #b3e5fc; font-size: 0.95em; }
    th { background: #b3e5fc; color: #263238; font-size: 1em; }
    tr:last-child td { border-bottom: none; }
    .volver { display: inline-block; margin-top: 18px; background: linear-gradient(90deg, #ffd600 0%, #64b5f6 100%); color: #263238; font-size: 1.1em; font-weight: bold; border: none; border-radius: 16px; padding: 10px 28px; text-decoration: none; box-shadow: 0 4px 12px rgba(0,0,0,0.10); transition: background 0.3s, transform 0.2s; }
    .volver:hover { background: linear-gradient(90deg, #64b5f6 0%, #ffd600 100%); transform: scale(1.05); }
  </style>
</head>
<body>
  <!-- Fondo galaxia animada clara + elementos didÃ¡cticos -->
  <div style="position:fixed; inset:0; z-index:-2; overflow:hidden; width:100vw; height:100vh;">
    <svg width="100vw" height="100vh" style="position:absolute;top:0;left:0;" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <radialGradient id="galaxyLight" cx="50%" cy="50%" r="80%">
          <stop offset="0%" stop-color="#fffde7"/>
          <stop offset="60%" stop-color="#e0f7fa"/>
          <stop offset="100%" stop-color="#b3e5fc"/>
        </radialGradient>
      </defs>
      <rect width="100vw" height="100vh" fill="url(#galaxyLight)"/>
      <!-- MÃ¡s estrellas -->
      <g>
        <circle cx="80" cy="120" r="2" fill="#fff" opacity="0.8">
          <animate attributeName="cx" values="80;900;80" dur="22s" repeatCount="indefinite"/>
        </circle>
        <circle cx="700" cy="200" r="1.5" fill="#fff" opacity="0.7">
          <animate attributeName="cy" values="200;600;200" dur="18s" repeatCount="indefinite"/>
        </circle>
        <circle cx="400" cy="500" r="1.2" fill="#fff" opacity="0.6">
          <animate attributeName="cx" values="400;100;400" dur="25s" repeatCount="indefinite"/>
        </circle>
        <circle cx="900" cy="100" r="2.5" fill="#fff" opacity="0.9">
          <animate attributeName="cy" values="100;700;100" dur="30s" repeatCount="indefinite"/>
        </circle>
        <circle cx="200" cy="300" r="1.7" fill="#fff" opacity="0.7">
          <animate attributeName="cy" values="300;600;300" dur="20s" repeatCount="indefinite"/>
        </circle>
        <circle cx="600" cy="80" r="1.3" fill="#fff" opacity="0.8">
          <animate attributeName="cx" values="600;200;600" dur="19s" repeatCount="indefinite"/>
        </circle>
      </g>
      <!-- Nebulosas claras -->
      <ellipse cx="600" cy="200" rx="120" ry="40" fill="#b3e5fc" opacity="0.13"/>
      <ellipse cx="300" cy="600" rx="90" ry="30" fill="#b2ebf2" opacity="0.11"/>
      <!-- Hojita animada -->
      <g>
        <ellipse cx="120" cy="80" rx="32" ry="12" fill="#a5d6a7">
          <animate attributeName="cx" values="120;400;120" dur="12s" repeatCount="indefinite"/>
        </ellipse>
        <ellipse cx="600" cy="200" rx="18" ry="7" fill="#81d4fa">
          <animate attributeName="cy" values="200;500;200" dur="10s" repeatCount="indefinite"/>
        </ellipse>
      </g>
      <!-- LÃ¡piz animado -->
      <g>
        <rect x="300" y="60" width="60" height="10" rx="5" fill="#ffd54f">
          <animate attributeName="x" values="300;700;300" dur="14s" repeatCount="indefinite"/>
        </rect>
        <polygon points="360,65 370,70 360,75" fill="#bdbdbd">
          <animate attributeName="points" values="360,65 370,70 360,75; 700,65 710,70 700,75; 360,65 370,70 360,75" dur="14s" repeatCount="indefinite"/>
        </polygon>
      </g>
      <!-- MÃ¡s elementos didÃ¡cticos -->
      <circle cx="80" cy="400" r="18" fill="#fff59d">
        <animate attributeName="cy" values="400;100;400" dur="16s" repeatCount="indefinite"/>
      </circle>
      <rect x="700" y="350" width="30" height="8" rx="4" fill="#ce93d8">
        <animate attributeName="y" values="350;50;350" dur="18s" repeatCount="indefinite"/>
      </rect>
    </svg>
  </div>

  <!-- Robotsito EVA con animaciÃ³n y globo de texto al lado -->
  <div id="eva-bot" style="position:fixed; right:32px; bottom:32px; z-index:10; width:90px; height:140px; display:flex; flex-direction:column; align-items:center;">
    <div id="eva-balloon" style="display:none; position:absolute; right:90px; bottom:80px;"></div>
    <svg id="eva-svg" width="70" height="110" viewBox="0 0 70 110" xmlns="http://www.w3.org/2000/svg" style="animation: eva-float 3s ease-in-out infinite alternate;">
      <ellipse cx="35" cy="50" rx="30" ry="45" fill="#f5f5f5" stroke="#bdbdbd" stroke-width="2"/>
      <ellipse cx="35" cy="38" rx="18" ry="22" fill="#e0e0e0"/>
      <ellipse id="eva-eye" cx="35" cy="38" rx="8" ry="10" fill="#212121"/>
      <ellipse cx="32" cy="36" rx="2.5" ry="3.5" fill="#fff"/>
      <rect x="28" y="80" width="14" height="18" rx="7" fill="#bdbdbd"/>
      <rect x="18" y="95" width="10" height="8" rx="4" fill="#bdbdbd"/>
      <rect x="42" y="95" width="10" height="8" rx="4" fill="#bdbdbd"/>
    </svg>
  </div>
  <style>
    @keyframes eva-float {
      0% { transform: translateY(0); }
      100% { transform: translateY(-12px); }
    }
  </style>
  <script>
    setInterval(function() {
      const eye = document.getElementById('eva-eye');
      if (eye) {
        eye.setAttribute('ry', '3');
        setTimeout(() => eye.setAttribute('ry', '10'), 180);
      }
    }, 3500);
    const evaMessages = [
      "Â¡Recuerda revisar tus datos antes de enviar!",
      "La ingenierÃ­a transforma el mundo ðŸš€",
      "Â¡Postular es el primer paso para cumplir tus sueÃ±os!",
      "Â¿SabÃ­as que la UNI fue fundada en 1876?",
      "Â¡No olvides tu contraseÃ±a!",
      "La perseverancia es clave para el Ã©xito.",
      "Â¡Bienvenido al sistema de postulantes!",
      "La ciencia y el esfuerzo abren puertas.",
      "Â¡TÃº puedes ser el prÃ³ximo ingeniero UNI!"
    ];
    function showEvaBalloon() {
      const balloon = document.getElementById('eva-balloon');
      const msg = evaMessages[Math.floor(Math.random()*evaMessages.length)];
      balloon.innerHTML = `<div style='background:#fff; color:#1976d2; border-radius:18px; box-shadow:0 4px 16px rgba(0,0,0,0.13); padding:16px 22px; font-size:1.1em; font-weight:bold; border:2px solid #bdbdbd; position:relative; max-width:220px; min-width:160px;'>${msg}<span style='position:absolute;right:-18px;bottom:18px;width:0;height:0;border-top:12px solid transparent;border-bottom:12px solid transparent;border-left:18px solid #fff;'></span></div>`;
      balloon.style.display = 'block';
      setTimeout(()=>{ balloon.style.display = 'none'; }, 6000);
    }
    setInterval(showEvaBalloon, 9000);
    setTimeout(showEvaBalloon, 2000);
  </script>
  <div class="tabla-postulantes">
    <img src="/static/uni_logo.png" alt="Logo UNI" style="width:110px; display:block; margin:0 auto 12px auto;">
    <h2>Lista de Postulantes Registrados</h2>
    <table>
      <tr>
        <th>IDHASH</th><th>COLEGIO</th><th>COLEGIO_DEPA</th><th>COLEGIO_PROV</th><th>COLEGIO_DIST</th><th>COLEGIO_PAIS</th><th>COLEGIO_ANIO_EGRESO</th><th>ESPECIALIDAD</th><th>ANIO_POSTULA</th><th>CICLO_POSTULA</th><th>DOMICILIO_DEPA</th><th>DOMICILIO_PROV</th><th>DOMICILIO_DIST</th><th>ANIO_NACIMIENTO</th><th>NACIMIENTO_PAIS</th><th>NACIMIENTO_DEPA</th><th>NACIMIENTO_PROV</th><th>NACIMIENTO_DIST</th><th>SEXO</th><th>CALIF_FINAL</th><th>INGRESO</th><th>MODALIDAD</th><th>FECHA_CORTE</th>
      </tr>
      {% for p in postulantes %}
      <tr>
        <td>{{ p.get('IDHASH','') }}</td>
        <td>{{ p.get('COLEGIO','') }}</td>
        <td>{{ p.get('COLEGIO_DEPA','') }}</td>
        <td>{{ p.get('COLEGIO_PROV','') }}</td>
        <td>{{ p.get('COLEGIO_DIST','') }}</td>
        <td>{{ p.get('COLEGIO_PAIS','') }}</td>
        <td>{{ p.get('COLEGIO_ANIO_EGRESO','') }}</td>
        <td>{{ p.get('ESPECIALIDAD','') }}</td>
        <td>{{ p.get('ANIO_POSTULA','') }}</td>
        <td>{{ p.get('CICLO_POSTULA','') }}</td>
        <td>{{ p.get('DOMICILIO_DEPA','') }}</td>
        <td>{{ p.get('DOMICILIO_PROV','') }}</td>
        <td>{{ p.get('DOMICILIO_DIST','') }}</td>
        <td>{{ p.get('ANIO_NACIMIENTO','') }}</td>
        <td>{{ p.get('NACIMIENTO_PAIS','') }}</td>
        <td>{{ p.get('NACIMIENTO_DEPA','') }}</td>
        <td>{{ p.get('NACIMIENTO_PROV','') }}</td>
        <td>{{ p.get('NACIMIENTO_DIST','') }}</td>
        <td>{{ p.get('SEXO','') }}</td>
        <td>{{ p.get('CALIF_FINAL','') }}</td>
        <td>{{ p.get('INGRESO','') }}</td>
        <td>{{ p.get('MODALIDAD','') }}</td>
        <td>{{ p.get('FECHA_CORTE','') }}</td>
      </tr>
      {% endfor %}
    </table>
    <a class="volver" href="/">Registrar otro</a>
    <a class="volver" href="/logout" style="margin-left: 10px;">Cerrar sesiÃ³n</a>
  </div>
</body>
</html> 