<!DOCTYPE html>
<html>
<head>
  <title>Registrar Postulante</title>
  <meta charset="UTF-8">
  <style>
    body {
      background: linear-gradient(120deg, #e0f7fa 0%, #fffde7 100%);
      font-family: 'Comic Sans MS', 'Comic Sans', cursive, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      margin: 0;
    }
    .robot {
      margin-top: 30px;
      margin-bottom: 10px;
      position: relative;
      animation: float 2s infinite ease-in-out alternate;
    }
    @keyframes float {
      0% { transform: translateY(0); }
      100% { transform: translateY(-15px); }
    }
    .robot-eye {
      transition: fill 0.2s;
    }
    .bubble {
      position: absolute;
      left: 90px;
      top: 10px;
      background: #fffde7;
      color: #1976d2;
      border-radius: 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      padding: 14px 22px;
      font-size: 1.1em;
      font-weight: bold;
      min-width: 180px;
      z-index: 2;
      border: 2px solid #ffd600;
      animation: appear 0.7s;
    }
    @keyframes appear {
      from { opacity: 0; transform: scale(0.7); }
      to { opacity: 1; transform: scale(1); }
    }
    .form-container {
      background: #ffffffcc;
      border-radius: 24px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.08);
      padding: 32px 40px 24px 40px;
      margin-top: 10px;
      width: 420px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      color: #1976d2;
      font-size: 2.2em;
      margin-bottom: 10px;
      text-align: center;
      letter-spacing: 1px;
    }
    label {
      color: #388e3c;
      font-size: 1.1em;
      margin-bottom: 4px;
      margin-top: 12px;
      display: block;
    }
    input[type="text"], input[type="number"], input[type="date"], select {
      width: 100%;
      padding: 10px;
      border: 2px solid #b3e5fc;
      border-radius: 12px;
      font-size: 1em;
      margin-bottom: 10px;
      background: #f1f8e9;
      transition: border 0.2s;
    }
    input[type="text"]:focus, input[type="number"]:focus, input[type="date"]:focus, select:focus {
      border: 2px solid #1976d2;
      outline: none;
    }
    .btn-registrar {
      background: linear-gradient(90deg, #ffd600 0%, #64b5f6 100%);
      color: #263238;
      font-size: 1.2em;
      font-weight: bold;
      border: none;
      border-radius: 16px;
      padding: 12px 32px;
      margin-top: 18px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.10);
      transition: background 0.3s, transform 0.2s;
    }
    .btn-registrar:hover {
      background: linear-gradient(90deg, #64b5f6 0%, #ffd600 100%);
      transform: scale(1.07);
    }
    .footer {
      margin-top: 30px;
      color: #90a4ae;
      font-size: 1em;
      text-align: center;
    }
    .success-message {
      background: #e1f8e6;
      color: #388e3c;
      border: 2px solid #81c784;
      border-radius: 14px;
      padding: 14px 20px;
      margin-bottom: 18px;
      font-size: 1.1em;
      text-align: center;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(0,0,0,0.07);
      animation: appear 0.7s;
    }
    .error-message {
      background: #ffebee;
      color: #d32f2f;
      border: 2px solid #e57373;
      border-radius: 14px;
      padding: 10px 16px;
      margin-bottom: 10px;
      font-size: 1em;
      text-align: center;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(0,0,0,0.07);
      animation: appear 0.7s;
    }
    .user-info {
      margin-bottom: 10px;
      color: #1976d2;
      font-size: 1.1em;
      text-align: right;
      width: 100%;
    }
    .logout-link {
      color: #d32f2f;
      font-weight: bold;
      margin-left: 10px;
      text-decoration: none;
    }
    .logout-link:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <!-- Fondo galaxia animada clara + elementos didácticos -->
  <div style="position:fixed; inset:0; z-index:-2; overflow:hidden; width:100vw; height:100vh;">
    <svg width="100vw" height="100vh" style="position:absolute;top:0;left:0;" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <radialGradient id="galaxyLight" cx="50%" cy="50%" r="80%">
          <stop offset="0%" stop-color="#fffde7"/>
          <stop offset="60%" stop-color="#e0f7fa"/>
          <stop offset="100%" stop-color="#b3e5fc"/>
        </radialGradient>
      </defs>
      <rect width="100vw" height="100vh" fill="url(#galaxyLight)"/>
      <!-- Más estrellas -->
      <g>
        <circle cx="80" cy="120" r="2" fill="#fff" opacity="0.8">
          <animate attributeName="cx" values="80;900;80" dur="22s" repeatCount="indefinite"/>
        </circle>
        <circle cx="700" cy="200" r="1.5" fill="#fff" opacity="0.7">
          <animate attributeName="cy" values="200;600;200" dur="18s" repeatCount="indefinite"/>
        </circle>
        <circle cx="400" cy="500" r="1.2" fill="#fff" opacity="0.6">
          <animate attributeName="cx" values="400;100;400" dur="25s" repeatCount="indefinite"/>
        </circle>
        <circle cx="900" cy="100" r="2.5" fill="#fff" opacity="0.9">
          <animate attributeName="cy" values="100;700;100" dur="30s" repeatCount="indefinite"/>
        </circle>
        <circle cx="200" cy="300" r="1.7" fill="#fff" opacity="0.7">
          <animate attributeName="cy" values="300;600;300" dur="20s" repeatCount="indefinite"/>
        </circle>
        <circle cx="600" cy="80" r="1.3" fill="#fff" opacity="0.8">
          <animate attributeName="cx" values="600;200;600" dur="19s" repeatCount="indefinite"/>
        </circle>
      </g>
      <!-- Nebulosas claras -->
      <ellipse cx="600" cy="200" rx="120" ry="40" fill="#b3e5fc" opacity="0.13"/>
      <ellipse cx="300" cy="600" rx="90" ry="30" fill="#b2ebf2" opacity="0.11"/>
      <!-- Hojita animada -->
      <g>
        <ellipse cx="120" cy="80" rx="32" ry="12" fill="#a5d6a7">
          <animate attributeName="cx" values="120;400;120" dur="12s" repeatCount="indefinite"/>
        </ellipse>
        <ellipse cx="600" cy="200" rx="18" ry="7" fill="#81d4fa">
          <animate attributeName="cy" values="200;500;200" dur="10s" repeatCount="indefinite"/>
        </ellipse>
      </g>
      <!-- Lápiz animado -->
      <g>
        <rect x="300" y="60" width="60" height="10" rx="5" fill="#ffd54f">
          <animate attributeName="x" values="300;700;300" dur="14s" repeatCount="indefinite"/>
        </rect>
        <polygon points="360,65 370,70 360,75" fill="#bdbdbd">
          <animate attributeName="points" values="360,65 370,70 360,75; 700,65 710,70 700,75; 360,65 370,70 360,75" dur="14s" repeatCount="indefinite"/>
        </polygon>
      </g>
      <!-- Más elementos didácticos -->
      <circle cx="80" cy="400" r="18" fill="#fff59d">
        <animate attributeName="cy" values="400;100;400" dur="16s" repeatCount="indefinite"/>
      </circle>
      <rect x="700" y="350" width="30" height="8" rx="4" fill="#ce93d8">
        <animate attributeName="y" values="350;50;350" dur="18s" repeatCount="indefinite"/>
      </rect>
    </svg>
  </div>

  <!-- Robotsito EVA con animación y globo de texto al lado -->
  <div id="eva-bot" style="position:fixed; right:32px; bottom:32px; z-index:10; width:90px; height:140px; display:flex; flex-direction:column; align-items:center;">
    <div id="eva-balloon" style="display:none; position:absolute; right:90px; bottom:80px;"></div>
    <svg id="eva-svg" width="70" height="110" viewBox="0 0 70 110" xmlns="http://www.w3.org/2000/svg" style="animation: eva-float 3s ease-in-out infinite alternate;">
      <ellipse cx="35" cy="50" rx="30" ry="45" fill="#f5f5f5" stroke="#bdbdbd" stroke-width="2"/>
      <ellipse cx="35" cy="38" rx="18" ry="22" fill="#e0e0e0"/>
      <ellipse id="eva-eye" cx="35" cy="38" rx="8" ry="10" fill="#212121"/>
      <ellipse cx="32" cy="36" rx="2.5" ry="3.5" fill="#fff"/>
      <rect x="28" y="80" width="14" height="18" rx="7" fill="#bdbdbd"/>
      <rect x="18" y="95" width="10" height="8" rx="4" fill="#bdbdbd"/>
      <rect x="42" y="95" width="10" height="8" rx="4" fill="#bdbdbd"/>
    </svg>
  </div>
  <style>
    @keyframes eva-float {
      0% { transform: translateY(0); }
      100% { transform: translateY(-12px); }
    }
  </style>
  <script>
    setInterval(function() {
      const eye = document.getElementById('eva-eye');
      if (eye) {
        eye.setAttribute('ry', '3');
        setTimeout(() => eye.setAttribute('ry', '10'), 180);
      }
    }, 3500);
    const evaMessages = [
      "¡Recuerda revisar tus datos antes de enviar!",
      "La ingeniería transforma el mundo 🚀",
      "¡Postular es el primer paso para cumplir tus sueños!",
      "¿Sabías que la UNI fue fundada en 1876?",
      "¡No olvides tu contraseña!",
      "La perseverancia es clave para el éxito.",
      "¡Bienvenido al sistema de postulantes!",
      "La ciencia y el esfuerzo abren puertas.",
      "¡Tú puedes ser el próximo ingeniero UNI!"
    ];
    function showEvaBalloon() {
      const balloon = document.getElementById('eva-balloon');
      const msg = evaMessages[Math.floor(Math.random()*evaMessages.length)];
      balloon.innerHTML = `<div style='background:#fff; color:#1976d2; border-radius:18px; box-shadow:0 4px 16px rgba(0,0,0,0.13); padding:16px 22px; font-size:1.1em; font-weight:bold; border:2px solid #bdbdbd; position:relative; max-width:220px; min-width:160px;'>${msg}<span style='position:absolute;right:-18px;bottom:18px;width:0;height:0;border-top:12px solid transparent;border-bottom:12px solid transparent;border-left:18px solid #fff;'></span></div>`;
      balloon.style.display = 'block';
      setTimeout(()=>{ balloon.style.display = 'none'; }, 6000);
    }
    setInterval(showEvaBalloon, 9000);
    setTimeout(showEvaBalloon, 2000);
  </script>
  <div class="form-container">
    <img src="/static/uni_logo.png" alt="Logo UNI" style="width:110px; display:block; margin:0 auto 12px auto;">
    <div class="user-info">
      Usuario: <b>{{ user }}</b> | <a href="/logout" class="logout-link">Cerrar sesión</a>
    </div>
    <h1>¡Registra tu Postulante!</h1>
    <form id="postulante-form" method="POST" autocomplete="off">
      <label for="IDHASH">IDHASH:</label>
      <input type="text" id="IDHASH" name="IDHASH" required>
      <label for="COLEGIO">Colegio:</label>
      <input type="text" id="COLEGIO" name="COLEGIO" required>
      <label for="COLEGIO_DEPA">Colegio - Departamento:</label>
      <input type="text" id="COLEGIO_DEPA" name="COLEGIO_DEPA" required>
      <label for="COLEGIO_PROV">Colegio - Provincia:</label>
      <input type="text" id="COLEGIO_PROV" name="COLEGIO_PROV" required>
      <label for="COLEGIO_DIST">Colegio - Distrito:</label>
      <input type="text" id="COLEGIO_DIST" name="COLEGIO_DIST" required>
      <label for="COLEGIO_PAIS">Colegio - País:</label>
      <input type="text" id="COLEGIO_PAIS" name="COLEGIO_PAIS" required>
      <label for="COLEGIO_ANIO_EGRESO">Año de egreso del colegio:</label>
      <input type="number" id="COLEGIO_ANIO_EGRESO" name="COLEGIO_ANIO_EGRESO" min="1900" max="2100" required>
      <label for="ESPECIALIDAD">Especialidad:</label>
      <input type="text" id="ESPECIALIDAD" name="ESPECIALIDAD" required>
      <label for="ANIO_POSTULA">Año de postulación:</label>
      <input type="number" id="ANIO_POSTULA" name="ANIO_POSTULA" min="1900" max="2100" required>
      <label for="CICLO_POSTULA">Ciclo de postulación:</label>
      <input type="text" id="CICLO_POSTULA" name="CICLO_POSTULA" required>
      <label for="DOMICILIO_DEPA">Domicilio - Departamento:</label>
      <input type="text" id="DOMICILIO_DEPA" name="DOMICILIO_DEPA" required>
      <label for="DOMICILIO_PROV">Domicilio - Provincia:</label>
      <input type="text" id="DOMICILIO_PROV" name="DOMICILIO_PROV" required>
      <label for="DOMICILIO_DIST">Domicilio - Distrito:</label>
      <input type="text" id="DOMICILIO_DIST" name="DOMICILIO_DIST" required>
      <label for="ANIO_NACIMIENTO">Año de nacimiento:</label>
      <input type="number" id="ANIO_NACIMIENTO" name="ANIO_NACIMIENTO" min="1900" max="2100" required>
      <label for="NACIMIENTO_PAIS">País de nacimiento:</label>
      <input type="text" id="NACIMIENTO_PAIS" name="NACIMIENTO_PAIS" required>
      <label for="NACIMIENTO_DEPA">Departamento de nacimiento:</label>
      <input type="text" id="NACIMIENTO_DEPA" name="NACIMIENTO_DEPA" required>
      <label for="NACIMIENTO_PROV">Provincia de nacimiento:</label>
      <input type="text" id="NACIMIENTO_PROV" name="NACIMIENTO_PROV" required>
      <label for="NACIMIENTO_DIST">Distrito de nacimiento:</label>
      <input type="text" id="NACIMIENTO_DIST" name="NACIMIENTO_DIST" required>
      <label for="SEXO">Sexo:</label>
      <select id="SEXO" name="SEXO" required>
        <option value="">Selecciona una opción</option>
        <option value="Masculino">Masculino</option>
        <option value="Femenino">Femenino</option>
        <option value="Otro">Otro</option>
      </select>
      <label for="CALIF_FINAL">Calificación final:</label>
      <input type="text" id="CALIF_FINAL" name="CALIF_FINAL" required>
      <label for="INGRESO">Ingreso:</label>
      <input type="text" id="INGRESO" name="INGRESO" required>
      <label for="MODALIDAD">Modalidad:</label>
      <input type="text" id="MODALIDAD" name="MODALIDAD" required>
      <label for="FECHA_CORTE">Fecha de corte:</label>
      <input type="text" id="FECHA_CORTE" name="FECHA_CORTE" required>
      <button class="btn-registrar" type="submit">🚀 Registrar</button>
    </form>
  </div>
  <div class="footer">
    <p>🤖 Jhair, tu robot amigo, te ayuda a registrar postulantes.<br>¡Aprender es divertido!</p>
  </div>
  <script>
    // Mensajes motivadores aleatorios
    const mensajes = [
      '¡Tú puedes lograrlo! 💡',
      '¡Registrar es divertido con Jhair!',
      '¡Sigue aprendiendo y creciendo! 🌱',
      '¡Eres un genio, sigue así! ⭐',
      '¡Cada registro es una aventura nueva! 🚀',
      '¡Jhair está orgulloso de ti! 🤖',
      '¡Vamos por más postulantes!',
      '¡La educación es el camino al éxito! 📚'
    ];
    setInterval(function() {
      const bubble = document.getElementById('memito-bubble');
      if (bubble) {
        const idx = Math.floor(Math.random() * mensajes.length);
        bubble.innerHTML = mensajes[idx];
      }
    }, 5000);
  </script>
</body>
</html>
